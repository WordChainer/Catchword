extends layout

block Content
    .container-fluid
        .row: .col-md-12.my-3
            ul.list-group.list-group-flush
                each searchLog in searchLogs
                    -
                        var { keyword, date } = searchLog;
                        var timestamp = date.format('YY.MM.DD HH:mm:ss');

                    li.list-group-item.text-white
                        span.badge.badge-pill.badge-dark.p-2.mr-3= timestamp
                        span= keyword

        .row
            .col-md-12
                ul.pagination.justify-content-center
                    -
                        var start = current;
                            end = Math.ceil(total / perPage),
                            prev = start > 1 ? start - 1 : 1,
                            next = start + 1 < end ? start + 1 : end,
                            max = 3;

                        if (end < 1) {
                            end = 1;
                        }

                    li.page-item
                        a.page-link(href=`/logs/${id}/1`): span «
                    li.page-item
                        a.page-link(href=`/logs/${id}/${prev}`): span ‹

                    if end > max
                        unless start == 1
                            li.page-item
                                a.page-link.disabled: span ...

                        if start + max - 1 < end
                            - for (var i = 0; i < max; i++)
                                - var page = start + i;

                                li.page-item
                                    a.page-link(href=`/logs/${id}/${page}` class=(page === current ? 'page-active' : ''))= page
                        else
                            - var rest = max - (end - start) - 1
                            - for (var page = start - rest; page <= end; page++)
                                li.page-item
                                    a.page-link(href=`/logs/${id}/${page}` class=(page === current ? 'page-active' : ''))= page

                        if start + max - 1 < end
                            li.page-item
                                a.page-link.disabled: span ...
                    else
                        - for (var page = 1; page <= end; page++)
                            li.page-item
                                a.page-link(href=`/logs/${id}/${page}` class=(page === current ? 'page-active' : ''))= page
 
                    li.page-item
                        a.page-link(href=`/logs/${id}/${next}`): span ›
                    li.page-item
                        a.page-link(href=`/logs/${id}/${end}`): span »
